(this["webpackJsonpadd-repo"]=this["webpackJsonpadd-repo"]||[]).push([[0],{146:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);a(66),a(94),a(96),a(97),a(99),a(100),a(101),a(102),a(103),a(104),a(105),a(106),a(108),a(109),a(110),a(111),a(112),a(113),a(114),a(115),a(116),a(117),a(119),a(120),a(121),a(122),a(123),a(124),a(125),a(126),a(127),a(128),a(129),a(130),a(131),a(132),a(133),a(134),a(135),a(136);var s=a(0),n=a.n(s),c=a(63),r=a.n(c),l=a(8),d=a.n(l),i=a(14),o=a.n(i),m=a(23),u=a(64),p=(a(145),a(146),function(e){e.id,e.fetchedUser;return n.a.createElement("div",{id:"screen_1",className:"container"},n.a.createElement("div",{id:"header",className:"header"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"item_block"},n.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-rus")}},n.a.createElement("div",{className:"img rus"}),n.a.createElement("span",{className:"txt"},"\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a"))),n.a.createElement("div",{className:"item_block"},n.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-math")}},n.a.createElement("div",{className:"img math"}),n.a.createElement("span",{className:"txt"},"\u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430"))),n.a.createElement("div",{className:"item_block"},n.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-litra")}},n.a.createElement("div",{className:"img litra"}),n.a.createElement("span",{className:"txt"},"\u043b\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430"))),n.a.createElement("div",{className:"item_block"},n.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-history")}},n.a.createElement("div",{className:"img history"}),n.a.createElement("span",{className:"txt"},"\u0438\u0441\u0442\u043e\u0440\u0438\u044f"))),n.a.createElement("div",{className:"item_block"},n.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-soc")}},n.a.createElement("div",{className:"img soc"}),n.a.createElement("span",{className:"txt"},"\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e"))),n.a.createElement("div",{className:"item_block"},n.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-phys")}},n.a.createElement("div",{className:"img phys"}),n.a.createElement("span",{className:"txt"},"\u0444\u0438\u0437\u0438\u043a\u0430"))),n.a.createElement("div",{className:"item_block"},n.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-bio")}},n.a.createElement("div",{className:"img bio"}),n.a.createElement("span",{className:"txt"},"\u0431\u0438\u043e\u043b\u043e\u0433\u0438\u044f"))),n.a.createElement("div",{className:"item_block"},n.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-lang")}},n.a.createElement("div",{className:"img lang"}),n.a.createElement("span",{className:"txt"},"\u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a"))),n.a.createElement("div",{className:"item_block"},n.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-chem")}},n.a.createElement("div",{className:"img chem"}),n.a.createElement("span",{className:"txt"},"\u0445\u0438\u043c\u0438\u044f")))))}),b=function(e){e.id;return n.a.createElement("div",{id:"screen_2",className:"container"},n.a.createElement("div",{className:"header"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"subj_item_block"},n.a.createElement("div",{className:"subj_item"},n.a.createElement("div",{className:"img"}),n.a.createElement("div",{className:"counter"},n.a.createElement("span",{id:"first_num"},"0")),n.a.createElement("div",{id:"start_btn",className:"btn"},"\u043c\u043d\u0435 \u043f\u043e\u0432\u0435\u0437\u0435\u0442!")),n.a.createElement("div",{id:"btn_fwd",className:"btn_fwd",style:{display:"none"},onClick:function(){document.getElementById("body").removeAttribute("class"),document.getElementById("body").classList.add("last")}},"\u043f\u0440\u0438\u043d\u044f\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0438",n.a.createElement("br",null),"\u0432\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0430\u0439\u0444\u043e\u043d"))))},E=function(e){return n.a.createElement("div",{id:"screen_3",className:"container"},n.a.createElement("div",{id:"back",className:"back_btn"}),n.a.createElement("div",{id:"header_3",className:"header"}),n.a.createElement("div",{className:"sub_header"},"2 \u043e\u0447\u0435\u043d\u044c \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0438"),n.a.createElement("div",{id:"header_4",className:"header"}),n.a.createElement("div",{className:"sub_header"},"\u0432 \u0440\u043e\u0437\u044b\u0433\u0440\u044b\u0448\u0435 \u0430\u0439\u0444\u043e\u043d\u0430 \u0438"),n.a.createElement("div",{className:"sub_header"},"\u0434\u0440\u0443\u0433\u0438\u0445 500 \u043a\u0440\u0443\u0442\u044b\u0445 \u043f\u0440\u0438\u0437\u043e\u0432"),n.a.createElement("div",{className:"img"}),n.a.createElement("div",{onClick:e.sub,id:"subscribe",className:"btn solid_red"},"\u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 ",n.a.createElement("br",null)," sattarovfamily"),n.a.createElement("div",{id:"bot",onClick:e.bot,className:"btn solid_red"},"\u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u043b\u0441"),n.a.createElement("div",{className:"sub_header"},"\u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0438 \u0434\u0440\u0443\u0437\u044c\u044f\u043c \u043e \u0441\u0432\u043e\u0438\u0445",n.a.createElement("br",null),"\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u0445 \u0435\u0433\u044d"),n.a.createElement("div",{className:"btn orange"},"\u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c",n.a.createElement("br",null),"\u0438\u0441\u0442\u043e\u0440\u0438\u044e"))},v=function(){var e=Object(s.useState)(null),t=Object(u.a)(e,3),c=t[0],r=t[1],l=(t[2],187604202),i="c4b65d2c124eef4594063ca1dcddb334da55ae4a",v="5.90",g=69086;function h(){return(h=Object(m.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.sendPromise("VKWebAppJoinGroup",{group_id:l});case 2:!0===e.sent.result&&document.getElementById("subscribe").classList.add("checked");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(m.a)(o.a.mark((function e(){var t,s,n,c,r,m,u,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.sendPromise("VKWebAppGetUserInfo");case 2:return t=e.sent,console.log(t),e.next=6,d.a.sendPromise("VKWebAppAllowMessagesFromGroup",{group_id:l});case 6:if(s=e.sent,console.log(s),!0!==s.result){e.next=29;break}return n=""+l+t.id+g+v+i,c=a(61),console.log(n),r=c(n),console.log(r),{},(m=new FormData).append("vk_group_id",l),m.append("vk_user_id",t.id),m.append("bot_id",g),m.append("v",v),m.append("hash",r),e.next=23,fetch("https://senler.ru/api/bots/AddSubscriber",{method:"POST",body:m});case 23:return u=e.sent,e.next=26,u.json();case 26:p=e.sent,console.log(p.success),1==p.success&&document.getElementById("bot").classList.add("checked");case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(m.a)(o.a.mark((function e(){var t,a,s,n,c,r,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.sendPromise("VKWebAppGetAuthToken",{app_id:7169773,scope:"stories, groups"});case 2:return t=e.sent,e.next=5,d.a.sendPromise("VKWebAppCallAPIMethod",{method:"stories.getPhotoUploadServer",params:{add_to_news:1,v:"5.101",user_ids:[69830281],access_token:t.access_token,link_text:"view",link_url:"https://vk.com/app7169773"}});case 5:return a=e.sent,console.log(a),s=document.getElementById("canvas"),(n=s.getContext("2d")).strokeStyle="#000",n.fillStyle="#fc0",n.beginPath(),n.arc(100,100,50,0,2*Math.PI,!0),n.closePath(),n.stroke(),n.fill(),c=new FormData,(r=new Image).src=s.toDataURL("image/png"),c.append("file",r),e.next=22,fetch(a.response.upload_url,{method:"POST",header:{"Content-Type":"multipart/form-data"},body:c});case 22:return l=e.sent,e.next=25,l.json();case 25:i=e.sent,console.log(i);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){function e(){return(e=Object(m.a)(o.a.mark((function e(){var t,s,n,c,m,u,p,b,E,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.sendPromise("VKWebAppGetUserInfo");case 2:return t=e.sent,e.next=5,d.a.sendPromise("VKWebAppGetAuthToken",{app_id:7169773,scope:"stories, groups"});case 5:return s=e.sent,console.log(s.access_token),e.next=9,d.a.sendPromise("VKWebAppCallAPIMethod",{method:"groups.isMember",request_id:"isMember",params:{group_id:187604202,v:"5.101",access_token:s.access_token,user_id:t.id}});case 9:return n=e.sent,console.log(n.response),1==n.response&&(console.log(document.getElementById("subscribe")),document.getElementById("subscribe").classList.add("checked")),e.next=14,d.a.sendPromise("VKWebAppAllowMessagesFromGroup",{group_id:l});case 14:if(c=e.sent,console.log(c),!0!==c.result){e.next=37;break}return m=""+l+t.id+g+v+i,u=a(61),console.log(m),p=u(m),console.log(p),{},(b=new FormData).append("vk_group_id",l),b.append("vk_user_id",t.id),b.append("bot_id",g),b.append("v",v),b.append("hash",p),e.next=31,fetch("https://senler.ru/api/bots/AddSubscriber",{method:"POST",body:b});case 31:return E=e.sent,e.next=34,E.json();case 34:h=e.sent,console.log(h.success),1==h.success&&document.getElementById("bot").classList.add("checked");case 37:r(t);case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}d.a.subscribe((function(e){var t=e.detail,a=t.type,s=t.data;if("VKWebAppUpdateConfig"===a){var n=document.createAttribute("scheme");n.value=s.scheme?s.scheme:"client_light",document.body.attributes.setNamedItem(n)}})),function(){e.apply(this,arguments)}(),function(){N.apply(this,arguments)}()}),[]),n.a.createElement("div",null,n.a.createElement(p,{id:"home",fetchedUser:c}),n.a.createElement(b,{id:"persik"}),n.a.createElement(E,{id:"result",sub:function(){return h.apply(this,arguments)},bot:function(){return f.apply(this,arguments)}}))};d.a.send("VKWebAppInit"),r.a.render(n.a.createElement(v,null),document.getElementById("root"))},65:function(e,t,a){e.exports=a(149)}},[[65,1,2]]]);
//# sourceMappingURL=main.e4770241.chunk.js.map