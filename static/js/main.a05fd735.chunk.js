(window["webpackJsonpapp-satt"]=window["webpackJsonpapp-satt"]||[]).push([[0],{149:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=149},150:function(e,t,a){"use strict";a.r(t);a(68),a(95),a(97),a(98),a(100),a(101),a(102),a(103),a(104),a(105),a(106),a(107),a(109),a(110),a(111),a(112),a(113),a(114),a(115),a(116),a(117),a(118),a(120),a(121),a(122),a(123),a(124),a(125),a(126),a(127),a(128),a(129),a(130),a(131),a(132),a(133),a(134),a(135),a(136),a(137);var n=a(0),s=a.n(n),c=a(65),r=a.n(c),d=a(10),i=a.n(d),l=a(14),m=a.n(l),o=a(23),u=a(40),p=a(28),b=(a(146),a(66)),E=function(e){e.id,e.fetchedUser;var t=e.pred;return s.a.createElement("div",{id:"screen_1",className:"container"},s.a.createElement("div",{id:"header",className:"header"}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"item_block"},s.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-rus"),t("rus")}},s.a.createElement("div",{className:"img rus"}),s.a.createElement("span",{className:"txt"},"\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a"))),s.a.createElement("div",{className:"item_block"},s.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-math"),t("mat")}},s.a.createElement("div",{className:"img math"}),s.a.createElement("span",{className:"txt"},"\u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430"))),s.a.createElement("div",{className:"item_block"},s.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-litra"),t("lit")}},s.a.createElement("div",{className:"img litra"}),s.a.createElement("span",{className:"txt"},"\u043b\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430"))),s.a.createElement("div",{className:"item_block"},s.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-history"),t("his")}},s.a.createElement("div",{className:"img history"}),s.a.createElement("span",{className:"txt"},"\u0438\u0441\u0442\u043e\u0440\u0438\u044f"))),s.a.createElement("div",{className:"item_block"},s.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-soc"),t("obs")}},s.a.createElement("div",{className:"img soc"}),s.a.createElement("span",{className:"txt"},"\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e"))),s.a.createElement("div",{className:"item_block"},s.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-phys"),t("fiz")}},s.a.createElement("div",{className:"img phys"}),s.a.createElement("span",{className:"txt"},"\u0444\u0438\u0437\u0438\u043a\u0430"))),s.a.createElement("div",{className:"item_block"},s.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-bio"),t("bio")}},s.a.createElement("div",{className:"img bio"}),s.a.createElement("span",{className:"txt"},"\u0431\u0438\u043e\u043b\u043e\u0433\u0438\u044f"))),s.a.createElement("div",{className:"item_block"},s.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-lang"),t("eng")}},s.a.createElement("div",{className:"img lang"}),s.a.createElement("span",{className:"txt"},"\u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a"))),s.a.createElement("div",{className:"item_block"},s.a.createElement("div",{className:"item",onClick:function(){document.getElementById("body").classList.add("grad-chem"),t("him")}},s.a.createElement("div",{className:"img chem"}),s.a.createElement("span",{className:"txt"},"\u0445\u0438\u043c\u0438\u044f")))))},v=function(e){e.id;return s.a.createElement("div",{id:"screen_2",className:"container"},s.a.createElement("div",{className:"header"}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"subj_item_block"},s.a.createElement("div",{className:"subj_item"},s.a.createElement("div",{className:"img"}),s.a.createElement("div",{className:"counter"},s.a.createElement("span",{id:"first_num"},"0")),s.a.createElement("div",{id:"start_btn",className:"btn"},"\u043c\u043d\u0435 \u043f\u043e\u0432\u0435\u0437\u0435\u0442!")),s.a.createElement("div",{id:"btn_fwd",className:"btn_fwd",style:{display:"none"},onClick:function(){document.getElementById("body").removeAttribute("class"),document.getElementById("body").classList.add("last")}},"\u043f\u0440\u0438\u043d\u044f\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0438",s.a.createElement("br",null),"\u0432\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u043a\u0440\u0443\u0442\u043e\u0439 \u0441\u043c\u0430\u0440\u0442\u0444\u043e\u043d"))))},g=function(e){return s.a.createElement("div",{id:"screen_3",className:"container"},s.a.createElement("div",{id:"back",className:"back_btn"}),s.a.createElement("div",{id:"header_3",className:"header"}),s.a.createElement("div",{className:"sub_header"},"2 \u043e\u0447\u0435\u043d\u044c \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0438"),s.a.createElement("div",{id:"header_4",className:"header"}),s.a.createElement("div",{className:"sub_header"},"\u0432 \u0440\u043e\u0437\u044b\u0433\u0440\u044b\u0448\u0435 \u0441\u043c\u0430\u0440\u0444\u043e\u043d\u0430 \u0438"),s.a.createElement("div",{className:"sub_header"},"\u0434\u0440\u0443\u0433\u0438\u0445 500 \u043a\u0440\u0443\u0442\u044b\u0445 \u043f\u0440\u0438\u0437\u043e\u0432"),s.a.createElement("div",{className:"img"}),s.a.createElement("div",{onClick:e.sub,id:"subscribe",className:"btn solid_red"},"\u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 ",s.a.createElement("br",null)," sattarovfamily"),s.a.createElement("div",{id:"bot",onClick:e.bot,className:"btn solid_red"},"\u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u043b\u0441"),s.a.createElement("div",{className:"sub_header"},"\u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0438 \u0434\u0440\u0443\u0437\u044c\u044f\u043c \u043e \u0441\u0432\u043e\u0438\u0445",s.a.createElement("br",null),"\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u0445 \u0435\u0433\u044d"),s.a.createElement("div",{id:"postStory",onClick:e.post,className:"btn orange"},"\u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c",s.a.createElement("br",null),"\u0438\u0441\u0442\u043e\u0440\u0438\u044e"))},f=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),c=t[0],r=t[1],d=Object(n.useState)(null),l=Object(u.a)(d,2),f=l[0],y=l[1],h=151057878,N="cc9adf1a21076f794b9a7cf6693bf76870d6725f";function _(){return(_=Object(o.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.sendPromise("VKWebAppJoinGroup",{group_id:h});case 2:!0===e.sent.result&&(document.getElementById("subscribe").classList.add("checked"),document.getElementById("subscribe").classList.add("disabled"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(o.a)(m.a.mark((function e(){var t,n,s,c,r,d,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.sendPromise("VKWebAppGetUserInfo");case 2:return t=e.sent,console.log(t),e.next=6,i.a.sendPromise("VKWebAppAllowMessagesFromGroup",{group_id:h});case 6:if(n=e.sent,console.log(n),!0!==n.result){e.next=25;break}return s=""+h+t.id+"714265.90"+N,c=a(63),r=c(s),(d=new FormData).append("vk_group_id",h),d.append("vk_user_id",t.id),d.append("bot_id",71426),d.append("v","5.90"),d.append("hash",r),e.next=20,fetch("https://senler.ru/api/bots/AddSubscriber",{method:"POST",body:d});case 20:return l=e.sent,e.next=23,l.json();case 23:!0===e.sent.success&&(document.getElementById("bot").classList.add("checked"),document.getElementById("bot").classList.add("disabled"));case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(o.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[{value:"",font:"bold 48px Montserrat",align:"center",color:"#454544"}],p.a.init(b.a),p.a.generateStoryFromTemplate(a(149)("./"+f+"/"+f+"."+document.getElementById("first_num").innerHTML+".png"),t).then((function(e){document.getElementById("postStory").innerHTML="\u0438\u0441\u0442\u043e\u0440\u0438\u044f<br>\u043f\u0443\u0431\u043b\u0438\u043a\u0443\u0435\u0442\u0441\u044f",document.getElementById("postStory").classList.add("disabled"),p.a.shareStory(7169773,e,{add_to_news:!0,link_text:"view",link_url:"https://vk.com/app7169773"}).then((function(e){document.getElementById("postStory").innerHTML="\u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c<br>\u0438\u0441\u0442\u043e\u0440\u0438\u044e",document.getElementById("postStory").classList.remove("disabled"),console.log(e)})).catch((function(e){document.getElementById("postStory").innerHTML="\u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c<br>\u0438\u0441\u0442\u043e\u0440\u0438\u044e",document.getElementById("postStory").classList.remove("disabled")}))})).catch(console.error);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(o.a)(m.a.mark((function e(){var t,n,s,c,d,l,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.sendPromise("VKWebAppGetUserInfo");case 2:return t=e.sent,e.next=5,i.a.sendPromise("VKWebAppGetAuthToken",{app_id:7169773,scope:"groups"});case 5:return n=e.sent,e.next=8,i.a.sendPromise("VKWebAppCallAPIMethod",{method:"groups.isMember",request_id:"isMember",params:{group_id:h,v:"5.101",access_token:n.access_token,user_id:t.id}});case 8:return 1===e.sent.response&&(document.getElementById("subscribe").classList.add("checked"),document.getElementById("subscribe").classList.add("disabled")),e.next=12,i.a.sendPromise("VKWebAppAllowMessagesFromGroup",{group_id:h});case 12:if(!0!==e.sent.result){e.next=30;break}return s=""+h+t.id+"714265.90"+N,c=a(63),d=c(s),(l=new FormData).append("vk_group_id",h),l.append("vk_user_id",t.id),l.append("bot_id",71426),l.append("v","5.90"),l.append("hash",d),e.next=25,fetch("https://senler.ru/api/subscribers/get",{method:"POST",body:l});case 25:return o=e.sent,e.next=28,o.json();case 28:e.sent.count>0&&(document.getElementById("bot").classList.add("checked"),document.getElementById("bot").classList.add("disabled"));case 30:r(t);case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var s=document.createAttribute("scheme");s.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(s)}})),function(){e.apply(this,arguments)}()}),[]),s.a.createElement("div",null,s.a.createElement(E,{id:"home",fetchedUser:c,pred:y}),s.a.createElement(v,{id:"persik"}),s.a.createElement(g,{id:"result",sub:function(){return _.apply(this,arguments)},bot:function(){return k.apply(this,arguments)},post:function(){return I.apply(this,arguments)}}))};i.a.send("VKWebAppInit"),r.a.render(s.a.createElement(f,null),document.getElementById("root"))},67:function(e,t,a){e.exports=a(150)}},[[67,1,2]]]);
//# sourceMappingURL=main.a05fd735.chunk.js.map